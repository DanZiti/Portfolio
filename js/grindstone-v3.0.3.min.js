/* Grindstone JavaScript Library v3.0.3 | Copyright (c) 2014, 2017 Dan Zervoudakes and contributors | https://github.com/dzervoudakes/GrindstoneJS/blob/master/LICENSE */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){var n=function(t,n){var i=this;if(t){var o=void 0,s=void 0;"string"==typeof t?n?(o="string"==typeof n?e.querySelectorAll(n):r.isElementArray(n)?n:[n],Array.prototype.forEach.call(o,function(e){s=e.querySelectorAll(t),Array.prototype.forEach.call(s,function(t){i.indexOf(t)===-1&&i.push(t)})})):i.push.apply(i,e.querySelectorAll(t)):r.isElementArray(t)?i.push.apply(i,t):i.push(t)}return this.set=i,this};n.prototype=[];var i=function(t,e){return new n(t,e)};i.fn=n.prototype;var r={children:function(t,e,n){var r=i(),o=!0,s=!1,f=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done);o=!0)for(var h=a.value,u=h.firstChild;u;u=u.nextSibling)void 0!==e&&e!==u.nodeType||n&&!i(u).is(n)||r.push(u)}catch(l){s=!0,f=l}finally{try{!o&&c["return"]&&c["return"]()}finally{if(s)throw f}}return r},createInteraction:function(t,n){return"ontouchend"in e?t:n},elementProp:function(t,e,n){return i.fn.map.call(t,function(){for(var t=this;;){var r=t[e];if(!r)break;{if(1==r.nodeType){if(!n||i(r).is(n))return r;break}t=r}}})},isElementArray:function(t){return t instanceof Array},matchesFuncName:Element.prototype.matches?"matches":Element.prototype.matchesSelector?"matchesSelector":Element.prototype.webkitMatchesSelector?"webkitMatchesSelector":Element.prototype.mozMatchesSelector?"mozMatchesSelector":Element.prototype.msMatchesSelector?"msMatchesSelector":void 0};return i.ajax=function(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))throw new Error("XHR properties are not properly defined.");var e=t.method,n=t.url,i=t.async,r=void 0===i||i,o=t.success,s=void 0===o?function(){}:o,f=t.error,a=void 0===f?function(){}:f,c=t.header,h=void 0===c?"Content-Type":c,u=t.headerValue,l=void 0===u?"application/x-www-form-urlencoded; charset=UTF-8":u,p=new XMLHttpRequest;return p.onreadystatechange=function(){var t=void 0;return 4===p.readyState&&(t=200===p.status?s(p):a(p)),t},p.open(e,n,r),p.setRequestHeader(h,l),p.send(null),p},i.fn.append=function(t){return this.each(function(){var n=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.innerHTML+=t;else{var i=e.querySelectorAll(t);i=Array.prototype.slice.call(i),i.forEach(function(t){n.appendChild(t)})}else this.appendChild(t)}),this},i.fn.attr=function(t,e){var n=void 0;return this.each(function(){e||""===e?this.setAttribute(t,e):n=this.getAttribute(t)}),e?this:n},i.fn.hasAttr=function(t){var e=void 0;return this.each(function(){t&&(e=null!==i(this).attr(t))}),e},i.fn.removeAttr=function(t){return this.each(function(){t&&this.removeAttribute(t)}),this},i.fn.css=function(t,e){var n=void 0,i=void 0;return this.each(function(){var r=this;if("object"===("undefined"==typeof t?"undefined":_typeof(t))){var o=Object.keys(t);o.forEach(function(e){r.style[e]=t[e]})}else"string"!=typeof t||void 0!==e&&null!==e?"string"==typeof t&&(this.style[t]=e):(n=this.style[t],i=!0)}),i?n:this},i.fn.hasClass=function(t){var e=void 0;return this.each(function(){e=this.classList.contains(t)}),e},i.fn.addClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.add(e)})}),this},i.fn.removeClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.remove(e)})}),this},i.fn.toggleClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.toggle(e)})}),this},i.fn.clone=function(){return this.map(function(){return this.cloneNode(!0)})},i.fn.data=function(t,e){if(e)return this.each(function(){i(this).attr("data-"+t,e)}),this;var n=void 0;return this.each(function(){n=i(this).attr("data-"+t)}),n},i.fn.removeData=function(t){return this.each(function(){i(this).removeAttr("data-"+t)}),this},i.debounce=function(t,e,n){var i=void 0,r=function(){var r=this,o=arguments,s=function(){i=null,n||t.apply(r,o)},f=n&&!i;clearTimeout(i),i=setTimeout(s,e),f&&t.apply(r,o)};return r},i.fn.height=function(n){return"number"==typeof n||0===n?(this.each(function(){this.style.height=n+"px"}),this):this.set[0]===e?e.body.clientHeight:this.set[0]===t?t.innerHeight:this.set[0].offsetHeight},i.fn.width=function(n){return"number"==typeof n||0===n?(this.each(function(){this.style.width=n+"px"}),this):this.set[0]===e?e.body.clientWidth:this.set[0]===t?t.innerWidth:this.set[0].offsetWidth},i.fn.show=function(t){var e=this;return t?setTimeout(function(){i.fn.show.call(e)},t):this.each(function(){"none"===this.style.display&&(this.style.display=i(this).data("_prevdisplay")||"",i(this).removeData("_prevdisplay"))}),this},i.fn.hide=function(t){var e=this;return t?setTimeout(function(){i.fn.hide.call(e)},t):this.each(function(){"none"!==this.style.display&&(this.style.display&&i(this).data("_prevdisplay",this.style.display),this.style.display="none")}),this},i.fn.doubleTap=function(t){var e=void 0,n=void 0;return this.each(function(){e=!1,n=r.createInteraction("touchend","click"),i(this).on(n,function(){return e?(t(),e=!1):(e=!0,void setTimeout(function(){return e=!1},350))})}),this},i.fn.each=function(t){var e=this.set;return e=Array.prototype.slice.call(e),e.forEach(function(e){t.call(e)}),this},i.fn.eq=function(t){return i(this.set[t])},i.fn.on=function(t,e){return this.each(function(){var n=this,i=t.split(" ");i.forEach(function(t){n.addEventListener(t,e,!1)})}),this},i.fn.off=function(t,e){return this.each(function(){var n=this,i=t.split(" ");i.forEach(function(t){n.removeEventListener(t,e,!1)})}),this},i.fn.is=function(t){if("function"==typeof t){var e=!0,n=!1,i=void 0;try{for(var o,s=this[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var f=o.value;if(t.call(f,this.indexOf(f),f))return!0}}catch(a){n=!0,i=a}finally{try{!e&&s["return"]&&s["return"]()}finally{if(n)throw i}}}else{var c=!0,h=!1,u=void 0;try{for(var l,p=this[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var d=l.value;if(d[r.matchesFuncName](t))return!0}}catch(a){h=!0,u=a}finally{try{!c&&p["return"]&&p["return"]()}finally{if(h)throw u}}}return!1},i.fn.map=function(t){var e=i(),n=!0,r=!1,o=void 0;try{for(var s,f=this[Symbol.iterator]();!(n=(s=f.next()).done);n=!0){var a=s.value,c=t.call(a);void 0!==c&&null!==c&&e.push(c)}}catch(h){r=!0,o=h}finally{try{!n&&f["return"]&&f["return"]()}finally{if(r)throw o}}return e},i.fn.filter=function(t){return i.fn.map.call(this,function(){if(i(this).is(t))return this})},i.fn.not=function(t){return i.fn.map.call(this,function(){if(!i(this).is(t))return this})},i.fn.first=function(){return i(this.set[0])},i.fn.last=function(){return i(this.set[this.set.length-1])},i.fn.focus=function(t){return"function"==typeof t?this.each(function(){i(this).on("focus",t)}):this.set[0].focus(),this},i.fn.get=function(t){return this.set[t]},i.fn.html=function(t){var e=void 0;return this.each(function(){t||""===t?this.innerHTML=t:e=this.innerHTML}),t?this:e},i.fn.before=function(t){return this.each(function(){var n=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("beforebegin",t);else{var i=e.querySelectorAll(t);i=Array.prototype.slice.call(i),i.forEach(function(t){n.parentNode.insertBefore(t,self)})}else this.parentNode.insertBefore(t,this)}),this},i.fn.after=function(t){return this.each(function(){var n=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterend",t);else{var i=e.querySelectorAll(t);i=Array.prototype.slice.call(i),i.forEach(function(t){n.parentNode.insertBefore(t,self.nextSibling)})}else this.parentNode.insertBefore(t,this.nextSibling)}),this},i.fn.mouseable=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hoverClass:"over",activeClass:"down"},e=t.hoverClass,n=void 0===e?"over":e,o=t.activeClass,s=void 0===o?"down":o,f={hover:r.createInteraction("touchstart","mouseenter"),remove:r.createInteraction("touchend","mouseleave"),down:r.createInteraction("touchstart","mousedown"),up:r.createInteraction("touchend","mouseup mouseleave")};return this.each(function(){var t=this;i(this).on(f.hover,function(){i(t).addClass(n)}).on(f.remove,function(){i(t).removeClass(n)}).on(f.down,function(){i(t).addClass(s)}).on(f.up,function(){i(t).removeClass(s)})}),this},i.fn.offset=function(t){if(!t||"string"!=typeof t)throw new Error('offset() position must be a string: acceptable values are "left" and "top".');if("left"!==t&&"top"!==t)throw new Error('offset() position must be either "left" or "top".');var e=this.set[0];if("left"===t){var n=0;do isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return n}if("top"===t){var i=0;do isNaN(e.offsetTop)||(i+=e.offsetTop);while(e=e.offsetParent);return i}},i.fn.prepend=function(t){return this.each(function(){var n=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterbegin",t);else{var i=e.querySelectorAll(t);i=Array.prototype.slice.call(i),i.forEach(function(t){n.insertBefore(t,self.firstChild)})}else this.insertBefore(t,this.firstChild)}),this},i.fn.ready=function(t){return"function"==typeof t&&this.each(function(){i(this).on("DOMContentLoaded",t)}),this},i.fn.load=function(t){return"function"==typeof t&&this.each(function(){i(this).on("load",t)}),this},i.fn.remove=function(t){if(t){var n=e.querySelectorAll(t);n=Array.prototype.slice.call(n),this.each(function(){var t=this;n.forEach(function(e){t.removeChild(e)})})}else this.each(function(){this.parentNode.removeChild(this)});return this},i.fn.replaceWith=function(t){return this.each(function(){this.outerHTML=t?t:""}),this},i.fn.resize=function(t){return"function"==typeof t&&this.each(function(){i(this).on("resize",t)}),this},i.fn.scroll=function(t){return"function"==typeof t&&this.each(function(){i(this).on("scroll",t)}),this},i.fn.scrollTop=function(n){var i=void 0;return this.each(function(){switch(this){case t:"number"==typeof n?this.scrollTo(0,n):i=this.pageYOffset;break;case e:"number"==typeof n?this.body.scrollTop=n:i=this.body.scrollTop;break;default:"number"==typeof n?this.scrollTop=n:i=this.scrollTop}}),"number"==typeof n?this:i},i.fn.scrollLeft=function(n){var i=void 0;return this.each(function(){switch(this){case t:"number"==typeof n?this.scrollTo(n,0):i=this.pageXOffset;break;case e:"number"==typeof n?this.body.scrollLeft=n:i=this.body.scrollLeft;break;default:"number"==typeof n?this.scrollTop=n:i=this.scrollLeft}}),"number"==typeof n?this:i},i.fn.submit=function(t){return"function"==typeof t?this.each(function(){i(this).on("submit",t)}):this.each(function(){this.submit()}),this},i.fn.parent=function(t){return r.elementProp(this,"parentNode",t)},i.fn.next=function(t){return r.elementProp(this,"nextSibling",t)},i.fn.prev=function(t){return r.elementProp(this,"previousSibling",t)},i.fn.children=function(t){return r.children(this,1,t)},i.fn.contents=function(){return r.children(this)},i.fn.trigger=function(t){var e=new Event(t);return this.each(function(){this.dispatchEvent(e)}),this},i.fn.val=function(t){return t&&"string"==typeof t?(this.each(function(){this.value=t}),this):this.set[0].value},i.fn.wrap=function(t){return this.each(function(){if("string"!=typeof t||!t.startsWith("<")||!t.endsWith(">"))throw new Error('wrap() structure must be a string that denotes an HTML container starting with "<" and ending with ">".');var e=this.outerHTML;this.outerHTML=t+e}),this},i.fn.wrapInner=function(t){return this.each(function(){if("string"!=typeof t||!t.startsWith("<")||!t.endsWith(">"))throw new Error('wrapInner() structure must be a string that denotes an HTML container starting with "<" and ending with ">".');var e=i(this).html();i(this).html(t+e)}),this},t.Grindstone=t.$=i}(window,document);