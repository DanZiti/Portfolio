/* Grindstone JavaScript Library v3.1.1 | Copyright (c) 2014, 2017 Dan Zervoudakes and contributors | https://github.com/dzervoudakes/GrindstoneJS/blob/master/LICENSE */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){return"undefined"!=typeof exports?module.exports=e():t.Grindstone=t.$=e()}(this,function(){var t=function(t,e){var i=this;if(t){var r=void 0,o=void 0;"string"==typeof t?e?(r="string"==typeof e?document.querySelectorAll(e):n.isElementArray(e)?e:[e],Array.prototype.forEach.call(r,function(e){o=e.querySelectorAll(t),Array.prototype.forEach.call(o,function(t){i.indexOf(t)===-1&&i.push(t)})})):i.push.apply(i,document.querySelectorAll(t)):n.isElementArray(t)?i.push.apply(i,t):i.push(t)}return this.set=i,this};t.prototype=[];var e=function(e,n){return new t(e,n)};e.fn=t.prototype;var n={children:function(t,n,i){var r=e(),o=!0,s=!1,f=void 0;try{for(var c,a=t[Symbol.iterator]();!(o=(c=a.next()).done);o=!0)for(var h=c.value,u=h.firstChild;u;u=u.nextSibling)void 0!==n&&n!==u.nodeType||i&&!e(u).is(i)||r.push(u)}catch(l){s=!0,f=l}finally{try{!o&&a["return"]&&a["return"]()}finally{if(s)throw f}}return r},createInteraction:function(t,e){return"ontouchend"in document?t:e},elementProp:function(t,n,i){return e.fn.map.call(t,function(){for(var t=this;;){var r=t[n];if(!r)break;{if(1==r.nodeType){if(!i||e(r).is(i))return r;break}t=r}}})},isElementArray:function(t){return t instanceof Array},matchesFuncName:Element.prototype.matches?"matches":Element.prototype.matchesSelector?"matchesSelector":Element.prototype.webkitMatchesSelector?"webkitMatchesSelector":Element.prototype.mozMatchesSelector?"mozMatchesSelector":Element.prototype.msMatchesSelector?"msMatchesSelector":void 0};return e.ajax=function(t){if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))throw new Error("XHR properties are not properly defined.");var e=t.method,n=void 0===e?"GET":e,i=t.url,r=void 0===i?"":i,o=t.async,s=void 0===o||o,f=t.body,c=void 0===f?null:f,a=t.header,h=void 0===a?"Content-Type":a,u=t.headerValue,l=void 0===u?"application/x-www-form-urlencoded; charset=UTF-8":u;return new Promise(function(t,e){var i=new XMLHttpRequest;return i.open(n,r,s),i.onload=function(){return t(i.response)},i.onerror=function(){return e("failure")},i.setRequestHeader(h,l),i.send(c),i})},e.fn.append=function(t){return this.each(function(){var e=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.innerHTML+=t;else{var n=document.querySelectorAll(t);n=Array.prototype.slice.call(n),n.forEach(function(t){e.appendChild(t)})}else this.appendChild(t)}),this},e.fn.attr=function(t,e){var n=void 0;return this.each(function(){e||""===e?this.setAttribute(t,e):n=this.getAttribute(t)}),e?this:n},e.fn.hasAttr=function(t){var n=void 0;return this.each(function(){t&&(n=null!==e(this).attr(t))}),n},e.fn.removeAttr=function(t){return this.each(function(){t&&this.removeAttribute(t)}),this},e.fn.hasClass=function(t){var e=void 0;return this.each(function(){e=this.classList.contains(t)}),e},e.fn.addClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.add(e)})}),this},e.fn.removeClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.remove(e)})}),this},e.fn.toggleClass=function(t){var e=t.split(" ");return this.each(function(){var t=this;e.forEach(function(e){t.classList.toggle(e)})}),this},e.fn.clone=function(){return this.map(function(){return this.cloneNode(!0)})},e.fn.css=function(t,e){var n=void 0,i=void 0;return this.each(function(){var r=this;if("object"===("undefined"==typeof t?"undefined":_typeof(t))){var o=Object.keys(t);o.forEach(function(e){r.style[e]=t[e]})}else"string"!=typeof t||void 0!==e&&null!==e?"string"==typeof t&&(this.style[t]=e):(n=this.style[t],i=!0)}),i?n:this},e.fn.data=function(t,n){if(n)return this.each(function(){e(this).attr("data-"+t,n)}),this;var i=void 0;return this.each(function(){i=e(this).attr("data-"+t)}),i},e.fn.removeData=function(t){return this.each(function(){e(this).removeAttr("data-"+t)}),this},e.debounce=function(t,e,n){var i=void 0,r=function(){var r=this,o=arguments,s=function(){i=null,n||t.apply(r,o)},f=n&&!i;clearTimeout(i),i=setTimeout(s,e),f&&t.apply(r,o)};return r},e.fn.height=function(t){return"number"==typeof t||0===t?(this.each(function(){this.style.height=t+"px"}),this):this.set[0]===document?document.body.clientHeight:this.set[0]===window?window.innerHeight:this.set[0].offsetHeight},e.fn.width=function(t){return"number"==typeof t||0===t?(this.each(function(){this.style.width=t+"px"}),this):this.set[0]===document?document.body.clientWidth:this.set[0]===window?window.innerWidth:this.set[0].offsetWidth},e.fn.show=function(t){var n=this;return t?setTimeout(function(){e.fn.show.call(n)},t):this.each(function(){"none"===this.style.display&&(this.style.display=e(this).data("_prevdisplay")||"",e(this).removeData("_prevdisplay"))}),this},e.fn.hide=function(t){var n=this;return t?setTimeout(function(){e.fn.hide.call(n)},t):this.each(function(){"none"!==this.style.display&&(this.style.display&&e(this).data("_prevdisplay",this.style.display),this.style.display="none")}),this},e.fn.doubleTap=function(t){var i=void 0,r=void 0;return this.each(function(){i=!1,r=n.createInteraction("touchend","click"),e(this).on(r,function(){return i?(t(),i=!1):(i=!0,void setTimeout(function(){return i=!1},350))})}),this},e.fn.each=function(t){var e=this.set;return e=Array.prototype.slice.call(e),e.forEach(function(e,n){t.call(e,n)}),this},e.fn.eq=function(t){return e(this.set[t])},e.fn.on=function(t,e){return this.each(function(){var n=this,i=t.split(" ");i.forEach(function(t){n.addEventListener(t,e,!1)})}),this},e.fn.off=function(t,e){return this.each(function(){var n=this,i=t.split(" ");i.forEach(function(t){n.removeEventListener(t,e,!1)})}),this},e.fn.is=function(t){if("function"==typeof t){var e=!0,i=!1,r=void 0;try{for(var o,s=this[Symbol.iterator]();!(e=(o=s.next()).done);e=!0){var f=o.value;if(t.call(f,this.indexOf(f),f))return!0}}catch(c){i=!0,r=c}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw r}}}else{var a=!0,h=!1,u=void 0;try{for(var l,d=this[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var p=l.value;if(p[n.matchesFuncName](t))return!0}}catch(c){h=!0,u=c}finally{try{!a&&d["return"]&&d["return"]()}finally{if(h)throw u}}}return!1},e.fn.map=function(t){var n=e(),i=!0,r=!1,o=void 0;try{for(var s,f=this[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var c=s.value,a=t.call(c);void 0!==a&&null!==a&&n.push(a)}}catch(h){r=!0,o=h}finally{try{!i&&f["return"]&&f["return"]()}finally{if(r)throw o}}return n},e.fn.filter=function(t){return e.fn.map.call(this,function(){if(e(this).is(t))return this})},e.fn.not=function(t){return e.fn.map.call(this,function(){if(!e(this).is(t))return this})},e.fn.first=function(){return e(this.set[0])},e.fn.last=function(){return e(this.set[this.set.length-1])},e.fn.focus=function(t){return"function"==typeof t?this.each(function(){e(this).on("focus",t)}):this.set[0].focus(),this},e.fn.get=function(t){return this.set[t]},e.fn.html=function(t){var e=void 0;return this.each(function(){t||""===t?this.innerHTML=t:e=this.innerHTML}),t?this:e},e.fn.before=function(t){return this.each(function(){var e=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("beforebegin",t);else{var n=document.querySelectorAll(t);n=Array.prototype.slice.call(n),n.forEach(function(t){e.parentNode.insertBefore(t,self)})}else this.parentNode.insertBefore(t,this)}),this},e.fn.after=function(t){return this.each(function(){var e=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterend",t);else{var n=document.querySelectorAll(t);n=Array.prototype.slice.call(n),n.forEach(function(t){e.parentNode.insertBefore(t,self.nextSibling)})}else this.parentNode.insertBefore(t,this.nextSibling)}),this},e.fn.mouseable=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hoverClass:"over",activeClass:"down"},i=t.hoverClass,r=void 0===i?"over":i,o=t.activeClass,s=void 0===o?"down":o,f={hover:n.createInteraction("touchstart","mouseenter"),remove:n.createInteraction("touchend","mouseleave"),down:n.createInteraction("touchstart","mousedown"),up:n.createInteraction("touchend","mouseup mouseleave")};return this.each(function(){var t=this;e(this).on(f.hover,function(){e(t).addClass(r)}).on(f.remove,function(){e(t).removeClass(r)}).on(f.down,function(){e(t).addClass(s)}).on(f.up,function(){e(t).removeClass(s)})}),this},e.fn.offset=function(t){if(!t||"string"!=typeof t)throw new Error('offset() position must be a string: acceptable values are "left" and "top".');if("left"!==t&&"top"!==t)throw new Error('offset() position must be either "left" or "top".');var e=this.set[0];if("left"===t){var n=0;do isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return n}if("top"===t){var i=0;do isNaN(e.offsetTop)||(i+=e.offsetTop);while(e=e.offsetParent);return i}},e.fn.prepend=function(t){return this.each(function(){var e=this;if("string"==typeof t)if(t.match(/(<).+(>)/))this.insertAdjacentHTML("afterbegin",t);else{var n=document.querySelectorAll(t);n=Array.prototype.slice.call(n),n.forEach(function(t){e.insertBefore(t,self.firstChild)})}else this.insertBefore(t,this.firstChild)}),this},e.fn.ready=function(t){return"function"==typeof t&&this.each(function(){e(this).on("DOMContentLoaded",t)}),this},e.fn.load=function(t){return"function"==typeof t&&this.each(function(){e(this).on("load",t)}),this},e.fn.remove=function(t){if(t){var e=document.querySelectorAll(t);e=Array.prototype.slice.call(e),this.each(function(){var t=this;e.forEach(function(e){t.removeChild(e)})})}else this.each(function(){this.parentNode.removeChild(this)});return this},e.fn.replaceWith=function(t){return this.each(function(){this.outerHTML=t?t:""}),this},e.fn.resize=function(t){return"function"==typeof t&&this.each(function(){e(this).on("resize",t)}),this},e.fn.scroll=function(t){return"function"==typeof t&&this.each(function(){e(this).on("scroll",t)}),this},e.fn.scrollTop=function(t){var e=void 0;return this.each(function(){switch(this){case window:"number"==typeof t?this.scrollTo(0,t):e=this.pageYOffset;break;case document:"number"==typeof t?this.body.scrollTop=t:e=this.body.scrollTop;break;default:"number"==typeof t?this.scrollTop=t:e=this.scrollTop}}),"number"==typeof t?this:e},e.fn.scrollLeft=function(t){var e=void 0;return this.each(function(){switch(this){case window:"number"==typeof t?this.scrollTo(t,0):e=this.pageXOffset;break;case document:"number"==typeof t?this.body.scrollLeft=t:e=this.body.scrollLeft;break;default:"number"==typeof t?this.scrollTop=t:e=this.scrollLeft}}),"number"==typeof t?this:e},e.fn.submit=function(t){return"function"==typeof t?this.each(function(){e(this).on("submit",t)}):this.each(function(){this.submit()}),this},e.fn.parent=function(t){return n.elementProp(this,"parentNode",t)},e.fn.next=function(t){return n.elementProp(this,"nextSibling",t)},e.fn.prev=function(t){return n.elementProp(this,"previousSibling",t)},e.fn.children=function(t){return n.children(this,1,t)},e.fn.contents=function(){return n.children(this)},e.fn.trigger=function(t){var e=new Event(t);return this.each(function(){this.dispatchEvent(e)}),this},e.fn.val=function(t){return t&&"string"==typeof t?(this.each(function(){this.value=t}),this):this.set[0].value},e.fn.wrap=function(t){return this.each(function(){if("string"!=typeof t||!t.startsWith("<")||!t.endsWith(">"))throw new Error('wrap() structure must be a string that denotes an HTML container starting with "<" and ending with ">".');var e=this.outerHTML;this.outerHTML=t+e}),this},e.fn.wrapInner=function(t){return this.each(function(){if("string"!=typeof t||!t.startsWith("<")||!t.endsWith(">"))throw new Error('wrapInner() structure must be a string that denotes an HTML container starting with "<" and ending with ">".');var n=e(this).html();e(this).html(t+n)}),this},e});